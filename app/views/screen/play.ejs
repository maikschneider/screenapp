<!DOCTYPE html>
<html>
<head>
  <title>Screen<%= screen.id %> &#9658; Playlist<%= screen.list %> </title>
</head>
<body>
  <div id="content"></div>
  <script src="/js/dependencies/sails.io.js"></script>
  <script type="text/javascript">

  io.socket.get('/screen/live/<%= screen.id %>', function(body, response){
    console.log('Server responded with status code ' + response.statusCode + ' and data: ', body);
  });

  io.socket.on('playlist', function (event) {
    console.log(event);
  });

  // Subscribe to changes on the current playlist
  io.socket.get('/playlist/<%= screen.list %>', function(resData, jwres) {
    console.log(resData);
  });

  io.socket.on('playlistitem', function(data){
    console.log('playlistitem changed:');
    console.log(data);
  });

  // Subscribe to all PlaylistItems on this playlist
  io.socket.get('/playlist/<%= screen.list %>/items', function(resData, jwres) {
    console.log('subscribed to:');
    console.log(resData);
  });


  </script>
</body>
</html>
