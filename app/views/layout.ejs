<!DOCTYPE html>
<html>
  <head>
    <title><%=typeof title == 'undefined' ? 'New Sails App' : title%></title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/styles/admin.css">
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
  </head>

  <body>
    <div class="off-canvas-wrapper">
      <div class="off-canvas position-left reveal-for-large" id="offCanvas" data-off-canvas>
        <div class="row collapse align-center" style="height:100%">
          <div class="small-12 columns text-center">
            <span class="logo">
              <img src="/images/logo.svg" alt="logo" />
              <span class="menu-text">Info Monitor</span>
            </span>
            <ul class="menu vertical text-left">
              <li><a class="<%= req.route.path == '/admin' ? 'active' : '' %>" href="/admin"><i class="fa fa-tachometer" aria-hidden="true"></i> Dashboard</a></li>
              <li><a class="color-screen" href="#"><i class="fa fa-desktop" aria-hidden="true"></i> Screens</a></li>
              <li><a class="color-list" href="#"><i class="fa fa-list" aria-hidden="true"></i> Playlists</a></li>
              <li><a class="color-item" href="#"><i class="fa fa-play-circle" aria-hidden="true"></i> Apps</a></li>
              <li><a class="color-doc" href="/docs"><i class="fa fa-book" aria-hidden="true"></i> API</a></li>
              <!-- <li><a href="#">Play</a></li> -->
            </ul>
          </div>
          <div class="small-10 columns align-bottom">
            <div class="row collapse align-bottom" style="height:100%">
              <div class="columns align-bottom">
                <p class="text-center"><a href="/logout" class="button hollow">Logout</a></p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="off-canvas-content" data-off-canvas-content>
        <div class="title-bar hide-for-large">
          <div class="title-bar-left">
            <button class="menu-icon" type="button" data-open="offCanvas"></button>
            <span class="title-bar-title">Info Montor</span>
          </div>
        </div>

        <main>
          <div class="row">
            <div class="small-12 columns">
              <%- body %>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script src="/js/dependencies/sails.io.js"></script>
    <script src="/bower_components/foundation-sites/dist/js/foundation.min.js"></script>
    <script src="/bower_components/Sortable/Sortable.min.js"></script>
    <script type="text/javascript">
      $(document)
        .foundation()
        .ready(function(){

          // fix space bar bug in weather dropdown
          Foundation.Keyboard.register('Dropdown', {});

          try{
            $.Playlist();
          } catch(err){

          }
          try{
            $.PlaylistItem();
          } catch(err){

          }
        });

      $.fn.serializeObject = function()
      {
          var o = {};
          var a = this.serializeArray();
          $.each(a, function() {
              if (o[this.name] !== undefined) {
                  if (!o[this.name].push) {
                      o[this.name] = [o[this.name]];
                  }
                  o[this.name].push(this.value || '');
              } else {
                  o[this.name] = this.value || '';
              }
          });
          return o;
      };

    </script>
  </body>
</html>
